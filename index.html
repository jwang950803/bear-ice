<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç†Šå†°O - å˜‰ç¾©ä¸­åŸ”å†·å‡é£Ÿå“</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root {
            --primary: #0ea5e9; --dark: #0c4a6e; --accent: #ef4444; --bg: #f8fafc;
        }
        body { font-family: 'PingFang TC', system-ui, sans-serif; background: var(--bg); margin: 0; overflow-x: hidden; scroll-behavior: smooth; }

        /* --- 1. æ——è‰¦é¦–é æ’ç‰ˆ --- */
        #landing-page {
            min-height: 100vh; width: 100%; position: absolute; top: 0; left: 0; z-index: 5000;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            transition: transform 0.8s cubic-bezier(0.65, 0, 0.35, 1);
            display: flex; flex-direction: column; align-items: center; padding-bottom: 50px;
        }
        #landing-page.hide { transform: translateY(-100vh); }

        .hero-section {
            height: 70vh; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: linear-gradient(rgba(12,74,110,0.7), rgba(12,74,110,0.8)), url('https://images.unsplash.com/photo-1574634534894-89d7576c8259?auto=format&fit=crop&w=1200&q=80');
            background-size: cover; background-position: center; color: white; text-align: center; clip-path: ellipse(150% 100% at 50% 0%);
        }
        .hero-logo { width: 100px; height: 100px; border-radius: 50%; border: 3px solid white; margin-bottom: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .main-shop-btn {
            background: var(--accent); color: white; padding: 16px 60px; border-radius: 50px;
            font-size: 1.4rem; font-weight: 900; border: none; cursor: pointer;
            box-shadow: 0 10px 25px rgba(239, 68, 68, 0.4); margin-top: 25px; transition: 0.3s;
        }
        .main-shop-btn:hover { transform: scale(1.05); }

        .info-cards-container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px; width: 90%; max-width: 1000px; margin-top: -50px;
        }
        .info-card {
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px);
            padding: 25px; border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            border: 1px solid white; display: flex; flex-direction: column; gap: 10px;
        }
        .info-card h3 { margin: 0; color: var(--dark); display: flex; align-items: center; gap: 8px; }

        /* --- 2. è³¼ç‰©åˆ†å€å°è¦½ --- */
        nav { background: rgba(255,255,255,0.8); backdrop-filter: blur(10px); height: 60px; display: flex; align-items: center; padding: 0 5%; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .category-bar { background: white; overflow-x: auto; white-space: nowrap; padding: 12px 5%; position: sticky; top: 60px; z-index: 999; border-bottom: 1px solid #e2e8f0; display: flex; gap: 10px; }
        .cat-btn { padding: 8px 18px; border-radius: 50px; background: #f1f5f9; color: #64748b; text-decoration: none; font-size: 0.9rem; font-weight: bold; border: 1px solid transparent; }
        .cat-btn.active { background: var(--dark); color: white; }

        /* --- 3. å•†å“èˆ‡ç¶²æ ¼ --- */
        .shop-container { padding: 20px 5% 100px; max-width: 1200px; margin: 0 auto; }
        .section-title { font-size: 1.5rem; font-weight: 900; color: var(--dark); margin: 40px 0 20px; padding-left: 12px; border-left: 5px solid var(--accent); }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; }
        .item-card { background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.03); border: 1px solid #f1f5f9; transition: 0.3s; position: relative; }
        .item-card:hover { transform: translateY(-5px); box-shadow: 0 12px 25px rgba(0,0,0,0.08); }
        .item-card img { width: 100%; height: 120px; object-fit: contain; background: #fcfcfc; padding: 10px; }
        .add-action { background: var(--dark); color: white; border: none; width: 100%; padding: 12px; font-weight: bold; cursor: pointer; }

        /* --- 4. æ‹‹ç‰©ç·šå‹•ç•«å…ƒç´  --- */
        .fly-dot {
            width: 25px; height: 25px; background: var(--accent); border-radius: 50%;
            position: fixed; z-index: 9999; pointer-events: none;
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
        }

        /* è³¼ç‰©è»Šèˆ‡çµå¸³ */
        #cart-fab { position: fixed; bottom: 30px; right: 30px; background: var(--accent); color: white; width: 65px; height: 65px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; cursor: pointer; z-index: 4000; box-shadow: 0 10px 25px rgba(239, 68, 68, 0.4); }
        .badge { position: absolute; top: 0; right: 0; background: white; color: var(--accent); font-size: 0.8rem; padding: 2px 8px; border-radius: 10px; font-weight: bold; }
        #side-panel { position: fixed; top: 0; right: -100%; width: 100%; max-width: 400px; height: 100%; background: white; z-index: 6000; transition: 0.4s; padding: 30px; box-sizing: border-box; box-shadow: -10px 0 30px rgba(0,0,0,0.1); overflow-y: auto; }
        #side-panel.open { right: 0; }
        
        input, select, textarea { width: 100%; padding: 14px; margin-bottom: 12px; border: 1px solid #e2e8f0; border-radius: 12px; }
    </style>
</head>
<body>

<div id="landing-page">
    <div class="hero-section">
        <img src="logo.png" class="hero-logo animate__animated animate__zoomIn" onerror="this.src='https://ui-avatars.com/api/?name=ç†Šå†°O&background=ef4444&color=fff'">
        <h1 class="animate__animated animate__fadeInDown">ç†Šå†°O å†·å‡é£Ÿå“</h1>
        <p class="animate__animated animate__fadeIn">ä¸­åŸ”åœ¨åœ°åš´é¸ï¼æ‰¹ç™¼é›¶å”®é¦–é¸</p>
        <button class="main-shop-btn animate__animated animate__pulse animate__infinite" onclick="goToShop()">ğŸ›’ é–‹å§‹é¸è³¼</button>
    </div>

    <div class="info-cards-container">
        <div class="info-card">
            <h3>â° ç‡Ÿæ¥­è³‡è¨Š</h3>
            <p style="font-size: 0.95rem; color: #475569; line-height: 1.6;">
                é€±ä¸€è‡³é€±æ—¥ï¼š08:00 - 20:00<br>
                (å»ºè­°åˆ°åº—å‰å¯å…ˆé›»è©±ç¢ºèªæˆ–ç§è¨Š)
            </p>
        </div>
        <div class="info-card">
            <h3>ğŸ“ åº—å€ & å°èˆª</h3>
            <p style="font-size: 0.9rem; margin-bottom: 10px;">å˜‰ç¾©ç¸£ä¸­åŸ”é„‰æ°¸æ¨‚æ–°æ‘248è™Ÿ</p>
            <a href="https://maps.app.goo.gl/YourMapLink" target="_blank" style="color: var(--primary); font-weight: bold; text-decoration: none;">âœ ä½¿ç”¨ Google åœ°åœ–å°èˆª</a>
        </div>
    </div>
</div>

<nav>
    <span style="font-weight: 900; color: var(--dark); font-size: 1.2rem;">ç†Šå†°O <small style="font-weight: normal; font-size: 0.7rem; background: #f1f5f9; padding: 2px 8px; border-radius: 10px;">è³¼ç‰©ä¸­</small></span>
</nav>

<div class="category-bar" id="cat-bar">
    <a href="#cat-pot" class="cat-btn active">ç«é‹æ–™</a>
    <a href="#cat-fry" class="cat-btn">ç¾å‘³ç‚¸ç‰©</a>
    <a href="#cat-meat" class="cat-btn">æµ·é®®è‚‰é¡</a>
    <a href="#cat-main" class="cat-btn">ç²¾é¸éºµé£Ÿ</a>
</div>

<div class="shop-container">
    <div id="cat-pot" class="section-title">ğŸ¢ ç«é‹æ–™ / ç§¤æ–¤å°é»</div>
    <div class="grid" id="grid-pot"></div>

    <div id="cat-fry" class="section-title">ğŸŸ ç†±é–€é»å¿ƒç‚¸ç‰©</div>
    <div class="grid" id="grid-fry"></div>

    <div id="cat-meat" class="section-title">ğŸ¥© æµ·é®®èˆ‡å„å¼è‚‰é¡</div>
    <div class="grid" id="grid-meat"></div>

    <div id="cat-main" class="section-title">ğŸœ ç²¾é¸ä¸»é£Ÿéºµé¡</div>
    <div class="grid" id="grid-main"></div>
</div>

<div id="cart-fab" onclick="toggleSide()">
    ğŸ›’ <div class="badge" id="cart-count">0</div>
</div>

<div id="side-panel">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2 style="color:var(--dark);">é ç´„æ¸…å–®</h2>
        <button onclick="toggleSide()" style="border:none; background:none; font-size:2rem; cursor:pointer;">&times;</button>
    </div>
    <div id="cart-list" style="margin:20px 0; border-top:1px solid #eee; padding-top:20px;"></div>
    <div style="text-align:right; font-size:1.4rem; font-weight:bold; color:var(--accent);">ç¸½è¨ˆ: $<span id="cart-total">0</span></div>
    
    <div style="margin-top:30px;">
        <input type="text" id="user-name" placeholder="è¨‚è³¼äººå§“å">
        <input type="tel" id="user-phone" placeholder="è¯çµ¡é›»è©±">
        <label style="font-size:0.8rem; color:#64748b;">ğŸ“… é è¨ˆå–è²¨æ—¥æœŸ</label>
        <input type="date" id="user-date">
        <textarea id="user-note" rows="3" placeholder="å…¶ä»–å‚™è¨» (ä¾‹å¦‚ï¼šåˆ†è£éœ€æ±‚)"></textarea>
        <button class="add-action" style="background:var(--accent); padding:15px; border-radius:15px; font-size:1.1rem;" onclick="doSubmit()">ç¢ºèªé€å‡ºé ç´„</button>
    </div>
</div>

<script>
    // --- å•†å“è³‡æ–™åº« ---
    const db = {
        pot: [ {n:"ç¶œåˆç«é‹æ–™(ç§¤æ–¤)", p:50}, {n:"éº»ç³¬è›‹é»ƒèŠ‹ä¸¸", p:70}, {n:"ç¶œåˆç‡’è³£", p:100}, {n:"ç‰ç±³å¸ƒä¸é…¥", p:50} ],
        fry: [ {n:"æŠ«è–©(ä¸€å€‹)", p:20}, {n:"æª¸æª¬é›æŸ³", p:50}, {n:"åŸå‘³é›ç±³èŠ±", p:50}, {n:"é›å¡Š", p:50}, {n:"èœœç³–å°è‚‰è±†", p:50}, {n:"é»ƒé‡‘è„†è–¯", p:50}, {n:"é¦¬éˆ´è–¯æ¢", p:50}, {n:"è˜¿è””ç³•", p:50} ],
        meat: [ {n:"é¯›é­šç‰‡", p:60}, {n:"è´è¶è…¿", p:100}, {n:"ä¹å±¤å¡”é›è…¿æ’", p:100}, {n:"ç‰›å°æ’", p:100}, {n:"é¹¹è±¬è‚‰", p:100}, {n:"ç¿…åŒ…é£¯", p:100} ],
        main: [ {n:"è’¸ç…®éºµ", p:10}, {n:"ç§‘å­¸éºµ(2åŒ…)", p:15}, {n:"é‹ç‡’éºµ(3åŒ…)", p:20}, {n:"æ‰‹å·¥è”¥æŠ“é¤…", p:100}, {n:"çƒé¾éºµ", p:100} ]
    };

    let cart = [];

    // --- åˆ‡æ›è‡³è³¼ç‰©é  ---
    function goToShop() {
        document.getElementById('landing-page').classList.add('hide');
        window.scrollTo(0,0);
    }

    // --- æ¸²æŸ“å•†å“ ---
    function render(key, targetId) {
        const container = document.getElementById(targetId);
        container.innerHTML = db[key].map((item, i) => `
            <div class="item-card">
                <img src="logo.png" onerror="this.src='https://ui-avatars.com/api/?name=${item.n}&background=f8fafc&color=0c4a6e'">
                <div style="padding:12px; text-align:center;">
                    <div style="font-weight:bold; font-size:0.9rem; height:2.4em; overflow:hidden;">${item.n}</div>
                    <div style="color:var(--accent); font-weight:900; margin:5px 0;">$${item.p}</div>
                </div>
                <button class="add-action" onclick="handleAddToCart(event, '${item.n}', ${item.p})">åŠ å…¥è³¼ç‰©è»Š</button>
            </div>
        `).join('');
    }

    // --- æ‹‹ç‰©ç·šå‹•ç•«ä¸»é‚è¼¯ ---
    function handleAddToCart(e, name, price) {
        // 1. åŸ·è¡Œæ‹‹ç‰©ç·š
        const startX = e.clientX;
        const startY = e.clientY;
        const cartEl = document.getElementById('cart-fab');
        const endRect = cartEl.getBoundingClientRect();
        const endX = endRect.left + endRect.width / 2;
        const endY = endRect.top + endRect.height / 2;

        const dot = document.createElement('div');
        dot.className = 'fly-dot';
        dot.style.left = startX + 'px';
        dot.style.top = startY + 'px';
        document.body.appendChild(dot);

        // ä½¿ç”¨ç°¡å–®ç‰©ç†å…¬å¼æ¨¡æ“¬
        let currentX = startX;
        let currentY = startY;
        const duration = 600; 
        const startTime = Date.now();

        function animate() {
            const now = Date.now();
            const progress = (now - startTime) / duration;

            if (progress < 1) {
                currentX = startX + (endX - startX) * progress;
                // é€™è£¡çš„æ‹‹ç‰©ç·šï¼šæ¸›å»ä¸€å€‹ sin å‡½æ•¸ç”¢ç”Ÿçš„å¼§åº¦
                currentY = startY + (endY - startY) * progress - 150 * Math.sin(Math.PI * progress);
                dot.style.left = currentX + 'px';
                dot.style.top = currentY + 'px';
                dot.style.transform = `scale(${1 - 0.5 * progress})`;
                requestAnimationFrame(animate);
            } else {
                dot.remove();
                // 2. åŠ å…¥è³¼ç‰©è»Šæ•¸æ“š
                cart.push({name, price});
                updateCart();
                // è³¼ç‰©è»Šåœ–ç¤ºéœ‡å‹•ä¸€ä¸‹
                cartEl.classList.add('animate__animated', 'animate__rubberBand');
                setTimeout(() => cartEl.classList.remove('animate__animated', 'animate__rubberBand'), 500);
            }
        }
        animate();
    }

    function updateCart() {
        document.getElementById('cart-count').innerText = cart.length;
        document.getElementById('cart-total').innerText = cart.reduce((s,i)=>s+i.price,0);
        document.getElementById('cart-list').innerHTML = cart.map((item, idx) => `
            <div style="display:flex; justify-content:space-between; margin-bottom:12px; align-items:center;">
                <span style="font-size:0.95rem;">${item.name}</span>
                <span style="font-weight:bold;">$${item.price} <button onclick="removeFromCart(${idx})" style="border:none; background:none; color:#cbd5e1; cursor:pointer; font-size:1.2rem; margin-left:10px;">&times;</button></span>
            </div>
        `).join('');
    }

    function removeFromCart(idx) { cart.splice(idx,1); updateCart(); }
    function toggleSide() { document.getElementById('side-panel').classList.toggle('open'); }

    // --- åˆå§‹åŒ– ---
    render('pot', 'grid-pot');
    render('fry', 'grid-fry');
    render('meat', 'grid-meat');
    render('main', 'grid-main');
    document.getElementById('user-date').min = new Date().toISOString().split('T')[0];

    // åˆ†é¡æŒ‰éˆ•é»æ“Šæ•ˆæœ
    document.querySelectorAll('.cat-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
        });
    });
</script>

</body>
</html>
