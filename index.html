<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç†Šå†°O - å˜‰ç¾©ä¸­åŸ”å†·å‡é£Ÿå“æ——è‰¦åº—</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root {
            --polar-blue: #0ea5e9; --deep-ice: #0c4a6e; --accent-red: #ef4444; --glass: rgba(255, 255, 255, 0.9);
        }
        body { font-family: 'PingFang TC', sans-serif; background: #f0f9ff; margin: 0; scroll-behavior: smooth; overflow-x: hidden; }

        /* 1. å“ç‰Œé¦–é å€ (Landing) */
        #landing-page {
            height: 100vh; width: 100%; position: fixed; top: 0; left: 0; z-index: 5000;
            background: linear-gradient(rgba(12,74,110,0.6), rgba(12,74,110,0.8)), url('https://images.unsplash.com/photo-1580913425032-69024f2b1898?auto=format&fit=crop&w=1200&q=80');
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: white; text-align: center; transition: transform 0.8s cubic-bezier(0.65, 0, 0.35, 1);
        }
        #landing-page.hide { transform: translateY(-100%); }
        .hero-logo { width: 120px; height: 120px; border-radius: 50%; border: 4px solid white; margin-bottom: 20px; }
        .shop-now-btn {
            background: var(--accent-red); color: white; padding: 15px 50px; border-radius: 50px;
            text-decoration: none; font-weight: bold; font-size: 1.3rem; cursor: pointer; border: none;
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.4);
        }

        /* 2. è³¼ç‰©é é¢å…§å®¹ */
        nav { background: var(--glass); backdrop-filter: blur(10px); padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .category-nav { background: white; overflow-x: auto; white-space: nowrap; padding: 10px 5%; position: sticky; top: 60px; z-index: 999; border-bottom: 1px solid #e2e8f0; display: flex; gap: 10px; }
        .cat-item { padding: 8px 16px; border-radius: 50px; background: #f1f5f9; color: #475569; text-decoration: none; font-size: 0.85rem; font-weight: bold; }
        .cat-item.active { background: var(--deep-ice); color: white; }

        /* å•†å“å¡ç‰‡èˆ‡å‹•ç•« */
        section { padding: 30px 5%; max-width: 1200px; margin: 0 auto; }
        .section-header { font-size: 1.4rem; font-weight: 900; color: var(--deep-ice); margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; }
        .card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: center; transition: 0.3s; }
        .card:hover { transform: translateY(-5px); }
        .card img { width: 100%; height: 110px; object-fit: contain; background: #f8fafc; padding: 10px; box-sizing: border-box; }
        .add-btn { background: var(--deep-ice); color: white; border: none; width: 100%; padding: 12px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .add-btn.success { background: #22c55e !important; }

        /* è³¼ç‰©è»Šå°å·¥å…· */
        #cart-widget { position: fixed; bottom: 25px; right: 25px; background: var(--accent-red); color: white; padding: 12px 20px; border-radius: 50px; font-weight: bold; z-index: 2000; cursor: pointer; display: flex; gap: 8px; }
        #checkout-panel { position: fixed; top: 0; right: -100%; width: 100%; max-width: 400px; height: 100%; background: white; z-index: 3000; transition: 0.4s; padding: 25px; box-sizing: border-box; overflow-y: auto; }
        #checkout-panel.active { right: 0; }
        
        input, select, textarea { width:100%; padding:12px; margin-bottom:10px; border:1px solid #e2e8f0; border-radius:10px; box-sizing:border-box; }
    </style>
</head>
<body>

<div id="landing-page">
    <img src="logo.png" class="hero-logo animate__animated animate__zoomIn" onerror="this.src='https://ui-avatars.com/api/?name=ç†Šå†°O&background=ef4444&color=fff'">
    <h1 class="animate__animated animate__fadeInUp">ç†Šå†°O å†·å‡é£Ÿå“</h1>
    <p class="animate__animated animate__fadeIn animate__delay-1s">å˜‰ç¾©ä¸­åŸ”åœ¨åœ°ç¶“ç‡Ÿï¼åš´é¸é–é®®æ‰¹ç™¼åƒ¹</p>
    <button class="shop-now-btn animate__animated animate__pulse animate__infinite" onclick="enterShop()">é–‹å§‹é¸è³¼ âœ</button>
</div>

<nav>
    <div style="display:flex; align-items:center; gap:10px;">
        <img src="logo.png" style="width:35px; height:35px; border-radius:50%;" onerror="this.style.display='none'">
        <span style="font-weight:900; color:var(--deep-ice);">ç†Šå†°O</span>
    </div>
    <div style="font-size: 0.8rem; background: #dcfce7; color: #166534; padding: 4px 10px; border-radius: 20px;">æ­£å¸¸æ¥å–®ä¸­</div>
</nav>

<div class="category-nav">
    <a href="#cat-pot" class="cat-item active">ç«é‹æ–™/ç§¤æ–¤</a>
    <a href="#cat-fry" class="cat-item">ç†±é–€ç‚¸ç‰©</a>
    <a href="#cat-meat" class="cat-item">æµ·é®®è‚‰é¡</a>
    <a href="#cat-main" class="cat-item">ç²¾é¸éºµé£Ÿ</a>
</div>

<section id="cat-pot"><div class="section-header">ğŸ”¥ ç«é‹æ–™/å°é»å°ˆå€</div><div class="grid" id="grid-pot"></div></section>
<section id="cat-fry"><div class="section-header">ğŸŸ ç†±é–€é»å¿ƒç‚¸ç‰©</div><div class="grid" id="grid-fry"></div></section>
<section id="cat-meat"><div class="section-header">ğŸ¥© æµ·é®®è‚‰é¡/ä¸»é£Ÿ</div><div class="grid" id="grid-meat"></div></section>
<section id="cat-main"><div class="section-header">ğŸœ ç²¾é¸éºµé£Ÿ</div><div class="grid" id="grid-main"></div></section>

<section id="cat-map" style="text-align:center; padding-bottom:100px;">
    <div style="background:white; padding:25px; border-radius:20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
        <h3 style="color:var(--deep-ice);">ğŸ“ åº—é¢ä½ç½®ï¼šå˜‰ç¾©ä¸­åŸ”æ°¸æ¨‚æ–°æ‘248è™Ÿ</h3>
        <a href="https://www.google.com/maps/dir/?api=1&destination=å˜‰ç¾©ç¸£ä¸­åŸ”é„‰å’Œç¾æ‘æ°¸æ¨‚æ–°æ‘248è™Ÿ" target="_blank" style="color:var(--polar-blue); font-weight:bold; text-decoration:none;">ğŸš€ é»æˆ‘é–‹å•Ÿ Google åœ°åœ–å°èˆª</a>
        <div style="margin-top:20px; border-radius:15px; overflow:hidden; border:2px solid #eee;">
            <iframe src="http://googleusercontent.com/maps.google.com/8" width="100%" height="250" style="border:0;" loading="lazy"></iframe>
        </div>
    </div>
</section>

<div id="cart-widget" onclick="toggleCart()">ğŸ›’ è³¼ç‰©è»Š (<span id="count">0</span>)</div>

<div id="checkout-panel">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h3>æˆ‘çš„è¨‚è³¼æ¸…å–®</h3>
        <button onclick="toggleCart()" style="border:none; background:none; font-size:1.5rem; cursor:pointer;">âœ•</button>
    </div>
    <div id="cart-items" style="margin:20px 0;"></div>
    <div style="text-align:right; font-size:1.3rem; font-weight:bold; color:var(--accent-red); border-top:1px solid #eee; padding-top:10px;">ç¸½è¨ˆ: $<span id="total">0</span></div>
    <br>
    <input type="text" id="cust-name" placeholder="è¨‚è³¼äººå§“å">
    <input type="tel" id="cust-phone" placeholder="è¯çµ¡é›»è©±">
    <label style="font-size:0.8rem; font-weight:bold; color:#64748b;">ğŸ“… é ç´„å–è²¨æ—¥æœŸ</label>
    <input type="date" id="pickup-date">
    <textarea id="note" placeholder="å‚™è¨» (å¦‚ï¼šåˆ†è£æ–¹å¼)"></textarea>
    <button class="add-btn" style="background:var(--accent-red); padding:15px; border-radius:10px;" onclick="submitOrder()">ç¢ºèªé€å‡ºé ç´„</button>
</div>

<script>
    const GOOGLE_URL = "åœ¨æ­¤è²¼ä¸Šä½ çš„GASç¶²å€";

    // âœ… å®Œæ•´åˆ†é¡å•†å“è³‡æ–™åº«
    const products = {
        pot: [ { name: "ç¶œåˆç«é‹æ–™(ç§¤æ–¤)", price: 50 }, { name: "éº»ç³¬è›‹é»ƒèŠ‹ä¸¸", price: 70 }, { name: "ç¶œåˆç‡’è³£", price: 100 }, { name: "ç‰ç±³å¸ƒä¸é…¥", price: 50 } ],
        fry: [ { name: "æŠ«è–©(ä¸€å€‹)", price: 20 }, { name: "æª¸æª¬é›æŸ³", price: 50 }, { name: "åŸå‘³é›ç±³èŠ±", price: 50 }, { name: "é›å¡Š", price: 50 }, { name: "èœœç³–å°è‚‰è±†", price: 50 }, { name: "é»ƒé‡‘è„†è–¯", price: 50 }, { name: "é¦¬éˆ´è–¯æ¢", price: 50 }, { name: "æ¸¯å¼è˜¿è””ç³•", price: 50 } ],
        meat: [ { name: "é¯›é­šç‰‡", price: 60 }, { name: "æª¸æª¬è´è¶è…¿", price: 100 }, { name: "ä¹å±¤å¡”é›è…¿æ’", price: 100 }, { name: "ç„¡éª¨ç‰›å°æ’", price: 100 }, { name: "é†ƒæ¼¬é›è…¿æ’", price: 100 }, { name: "é¹¹è±¬è‚‰", price: 100 }, { name: "é»ƒé‡‘ç¿…åŒ…é£¯", price: 100 }, { name: "é›è‚‰æ²", price: 100 } ],
        main: [ { name: "è’¸ç…®éºµ", price: 10 }, { name: "ç§‘å­¸éºµ(2åŒ…)", price: 15 }, { name: "é‹ç‡’éºµ(3åŒ…)", price: 20 }, { name: "æ‰‹å·¥è”¥æŠ“é¤…", price: 100 }, { name: "çƒé¾éºµ", price: 100 } ]
    };

    let cart = [];

    // é€²å…¥å•†åº—å‹•ç•«
    function enterShop() {
        document.getElementById('landing-page').classList.add('hide');
        window.scrollTo(0, 0);
    }

    function renderCategory(catId, items) {
        document.getElementById('grid-' + catId).innerHTML = items.map((p, idx) => `
            <div class="card">
                <img src="logo.png" onerror="this.src='https://ui-avatars.com/api/?name=${p.name}&background=f1f5f9&color=0c4a6e'">
                <div style="padding:10px;">
                    <div class="card-title" style="font-weight:bold; height:2.5em; overflow:hidden;">${p.name}</div>
                    <div class="card-price">$${p.price}</div>
                </div>
                <button class="add-btn" id="btn-${catId}-${idx}" onclick="addToCart('${p.name}', ${p.price}, '${catId}-${idx}')">åŠ å…¥</button>
            </div>
        `).join('');
    }

    function addToCart(n, p, btnId) {
        cart.push({name: n, price: p});
        
        // åŠ å…¥æˆåŠŸçš„å›é¥‹å‹•ç•«
        const btn = document.getElementById('btn-' + btnId);
        btn.innerText = "å·²åŠ å…¥ âœ“";
        btn.classList.add('success');
        if (navigator.vibrate) navigator.vibrate(50);
        setTimeout(() => { btn.innerText = "åŠ å…¥"; btn.classList.remove('success'); }, 800);
        
        updateUI();
    }

    function updateUI() {
        document.getElementById('count').innerText = cart.length;
        const total = cart.reduce((s, i) => s + i.price, 0);
        document.getElementById('total').innerText = total;
        document.getElementById('cart-items').innerHTML = cart.map((i, idx) => `
            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <span>${i.name}</span>
                <span>$${i.price} <button onclick="cart.splice(${idx},1);updateUI();" style="color:red; border:none; background:none; cursor:pointer;">âœ•</button></span>
            </div>
        `).join('');
    }

    function toggleCart() { document.getElementById('checkout-panel').classList.toggle('active'); }

    async function submitOrder() {
        const n = document.getElementById('cust-name').value;
        const p = document.getElementById('cust-phone').value;
        const d = document.getElementById('pickup-date').value;
        if(!n || !p || !d || cart.length === 0) return alert("è«‹å¡«å¯«å®Œæ•´è³‡è¨Šï¼");

        const btn = document.querySelector('#checkout-panel .add-btn');
        btn.innerText = "å‚³é€ä¸­..."; btn.disabled = true;
        try {
            await fetch(`${GOOGLE_URL}?name=${encodeURIComponent(n)}&phone=${encodeURIComponent(p)}&items=${encodeURIComponent(cart.map(i=>i.name).join(','))}&total=${cart.reduce((s,i)=>s+i.price,0)}&note=${encodeURIComponent('å–è²¨:'+d+' | '+document.getElementById('note').value)}`, {method:'POST', mode:'no-cors'});
            alert("ğŸ‰ é ç´„æˆåŠŸï¼è¨˜å¾—ä¾†å–è²¨å–”ï¼");
            cart = []; updateUI(); toggleCart();
        } catch(e) { alert("å¤±æ•—ï¼Œè«‹æ’¥æ‰“é›»è©± 05-2393005"); }
        btn.innerText = "ç¢ºèªé€å‡ºé ç´„"; btn.disabled = false;
    }

    // åˆå§‹åŒ–æ¸²æŸ“
    renderCategory('pot', products.pot);
    renderCategory('fry', products.fry);
    renderCategory('meat', products.meat);
    renderCategory('main', products.main);
    document.getElementById('pickup-date').min = new Date().toISOString().split('T')[0];
</script>

</body>
</html>
